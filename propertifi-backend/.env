# ============================================
# Propertifi Backend - Environment Configuration
# ============================================
# Copy this file to .env and configure values for your environment
# Run: php artisan key:generate to generate APP_KEY

# ============================================
# Application Configuration
# ============================================
APP_NAME=Propertifi
APP_ENV=local
APP_KEY=base64:eLosmSxemx1W1ekJ7Vccj3QDC65Q10kyf3sQb+UadiU=
APP_DEBUG=true
APP_URL=http://localhost:8000

# ============================================
# Logging Configuration
# ============================================
LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# Production: Consider 'sentry' or 'slack' for error monitoring
# LOG_CHANNEL=sentry
# SENTRY_LARAVEL_DSN=your-sentry-dsn-here

# ============================================
# Database Configuration
# ============================================
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=33060
DB_DATABASE=propertifi
DB_USERNAME=propertifi
DB_PASSWORD=password

# Production: Use strong password and limit privileges
# DB_PASSWORD=your-secure-password-here

# ============================================
# Broadcasting, Cache, Queue, Session
# ============================================
BROADCAST_DRIVER=pusher
CACHE_DRIVER=file
FILESYSTEM_DRIVER=local
QUEUE_CONNECTION=database
SESSION_DRIVER=file
SESSION_LIFETIME=120

# Production: Use redis for better performance
# CACHE_DRIVER=redis
# QUEUE_CONNECTION=redis
# SESSION_DRIVER=redis

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# Production: Set password for security
# REDIS_PASSWORD=your-redis-password

# ============================================
# Memcached Configuration
# ============================================
MEMCACHED_HOST=127.0.0.1

# ============================================
# Mail Configuration
# ============================================
MAIL_MAILER=smtp
MAIL_HOST=mailhog
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=noreply@propertifi.co
MAIL_FROM_NAME="${APP_NAME}"

# Production: Use real SMTP service (e.g., SendGrid, Mailgun, SES)
# MAIL_MAILER=smtp
# MAIL_HOST=smtp.mailgun.org
# MAIL_PORT=587
# MAIL_USERNAME=your-mailgun-username
# MAIL_PASSWORD=your-mailgun-password
# MAIL_ENCRYPTION=tls

# ============================================
# AWS S3 Configuration (for file storage)
# ============================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# Production: Configure for document templates and uploads
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_BUCKET=propertifi-production

# ============================================
# Pusher Configuration (for real-time features)
# ============================================
# For local development with Laravel WebSockets
PUSHER_APP_ID=local
PUSHER_APP_KEY=local
PUSHER_APP_SECRET=local
PUSHER_APP_CLUSTER=mt1

MIX_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
MIX_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# For production with Pusher (uncomment and configure when deploying)
# PUSHER_APP_ID=your-app-id
# PUSHER_APP_KEY=your-key
# PUSHER_APP_SECRET=your-secret
# PUSHER_APP_CLUSTER=us2

# ============================================
# Laravel Sanctum (API Authentication)
# ============================================
SANCTUM_STATEFUL_DOMAINS=localhost,localhost:3000,127.0.0.1,127.0.0.1:8000,::1

# Production: Add your frontend domains
# SANCTUM_STATEFUL_DOMAINS=propertifi.co,www.propertifi.co,app.propertifi.co

# ============================================
# CORS Configuration
# ============================================
# Allowed origins for API requests (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:4200

# Production: Restrict to frontend domain only
# CORS_ALLOWED_ORIGINS=https://propertifi.co,https://www.propertifi.co

# ============================================
# Frontend Application URLs
# ============================================
# Next.js Frontend URL
FRONTEND_URL=http://localhost:3000

# Angular Frontend URL (legacy)
ANGULAR_FRONTEND_URL=http://localhost:4200

# Production URLs
# FRONTEND_URL=https://propertifi.co
# ANGULAR_FRONTEND_URL=https://app.propertifi.co

# ============================================
# Stripe Payment Configuration
# ============================================
STRIPE_KEY=
STRIPE_SECRET=
STRIPE_WEBHOOK_SECRET=

# Production: Use live keys, not test keys
# STRIPE_KEY=pk_live_your-publishable-key
# STRIPE_SECRET=sk_live_your-secret-key
# STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ============================================
# JWT Configuration (if using ReallySimpleJWT)
# ============================================
JWT_SECRET=
JWT_EXPIRY=3600

# Production: Use strong secret
# JWT_SECRET=your-very-secure-jwt-secret-here

# ============================================
# API Rate Limiting
# ============================================
# Requests per minute for API endpoints
API_RATE_LIMIT=60

# Production: Adjust based on expected load
# API_RATE_LIMIT=120

# ============================================
# Lead Distribution Settings
# ============================================
# Maximum leads per property manager per month (default tier)
DEFAULT_LEAD_CAP=10

# Exclusivity window for premium tier (hours)
PREMIUM_EXCLUSIVITY_HOURS=24

# Lead distribution frequency (cron schedule)
# Default: Every 5 minutes
LEAD_DISTRIBUTION_SCHEDULE="*/5 * * * *"

# ============================================
# File Upload Limits
# ============================================
# Maximum file size for document templates (KB)
MAX_TEMPLATE_SIZE=5120

# Allowed mime types for templates (comma-separated)
ALLOWED_TEMPLATE_MIMES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# ============================================
# Verification System
# ============================================
# Require background check for verification
REQUIRE_BACKGROUND_CHECK=false

# Verification document storage disk
VERIFICATION_DISK=local

# Production: Use private S3 bucket
# VERIFICATION_DISK=s3
# VERIFICATION_BUCKET=propertifi-verifications

# ============================================
# Search & SEO
# ============================================
# Algolia or Meilisearch for advanced search (optional)
SCOUT_DRIVER=null
ALGOLIA_APP_ID=
ALGOLIA_SECRET=

# Production: Enable search
# SCOUT_DRIVER=algolia
# ALGOLIA_APP_ID=your-app-id
# ALGOLIA_SECRET=your-admin-key

# ============================================
# Analytics & Monitoring (Production)
# ============================================
# Google Analytics
# GA_TRACKING_ID=

# New Relic APM
# NEW_RELIC_LICENSE_KEY=
# NEW_RELIC_APP_NAME=Propertifi

# Datadog
# DATADOG_API_KEY=
# DATADOG_APP_KEY=

# ============================================
# Error Tracking (Production)
# ============================================
# Sentry
# SENTRY_LARAVEL_DSN=

# Flare
# FLARE_KEY=

# ============================================
# Google Maps Configuration
# ============================================
# Google Maps API Key for geocoding addresses
GOOGLE_MAPS_API_KEY=AIzaSyA2NbHYG_-hsqgoMgBCMfACPQAXWkuar-k

# Get your API key at: https://console.cloud.google.com/
# 1. Create a project
# 2. Enable "Geocoding API"
# 3. Create credentials (API Key)
# 4. Restrict to Geocoding API for security
#
# Pricing: $200 free credit/month (~40,000 free geocoding requests)
# This import needs ~924 requests, completely free

# ============================================
# SMS Notifications (Optional)
# ============================================
# Twilio for SMS notifications to PMs
TWILIO_SID=
TWILIO_TOKEN=
TWILIO_FROM=

# Production: Configure for lead notifications
# TWILIO_SID=your-account-sid
# TWILIO_TOKEN=your-auth-token
# TWILIO_FROM=+1234567890

# ============================================
# Telescope (Development Tool)
# ============================================
TELESCOPE_ENABLED=false

# Development: Enable for debugging
# TELESCOPE_ENABLED=true

# ============================================
# Testing Configuration
# ============================================
# Used by PHPUnit for test database
# DB_DATABASE_TEST=propertifi_test

# ============================================
# Production-Only Settings
# ============================================
# Set these ONLY in production .env

# Force HTTPS (set to true in production)
# FORCE_HTTPS=true

# Trusted proxies (if behind load balancer)
# TRUSTED_PROXIES=*

# Session domain (for subdomain sharing)
# SESSION_DOMAIN=.propertifi.co

# Cookie security (set to true in production)
# SESSION_SECURE_COOKIE=true

# ============================================
# NOTES
# ============================================
# 1. Never commit .env to version control
# 2. Use strong passwords in production
# 3. Enable HTTPS in production (FORCE_HTTPS=true)
# 4. Use environment-specific mail, cache, and queue drivers
# 5. Configure proper logging and error tracking for production
# 6. Rotate secrets regularly (JWT, Stripe, API keys)
# 7. Use redis/memcached for sessions and cache in production
# 8. Configure CORS to only allow your frontend domain
# 9. Set APP_DEBUG=false in production
# 10. Run php artisan config:cache after changes in production
